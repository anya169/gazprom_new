!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("loginForm"),t=document.getElementById("errorMessage");e.addEventListener("submit",(function(o){o.preventDefault();const n=new FormData(e),a=n.get("username"),r=n.get("password");fetch("http://127.0.0.1:8000/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:a,password:r})}).then((e=>e.json())).then((e=>{e.success?(localStorage.setItem("log_ID",e.log_ID),localStorage.setItem("name",e.name),localStorage.setItem("surname",e.surname),window.location.href="http://localhost:3001/profile.html"):(t.textContent=e.message,t.style.display="block")})).catch((e=>{console.error("Error:",e),t.textContent="Неверный логин и пароль",t.style.display="block"}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=localStorage.getItem("log_ID"),t=localStorage.getItem("name"),o=localStorage.getItem("surname");e&&t&&o?(document.querySelector(".info__surname-value").textContent=o,document.querySelector(".info__name-value").textContent=t,document.querySelector(".page-header__btn span").textContent=`${t} ${o}`):console.error("No user data found in localStorage")}))}();