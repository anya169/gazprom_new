!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("loginForm"),t=document.getElementById("errorMessage");e.addEventListener("submit",(function(n){n.preventDefault();const o=new FormData(e),a=o.get("username"),c=o.get("password");fetch("http://127.0.0.1:8000/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:a,password:c})}).then((e=>e.json())).then((e=>{e.success?(localStorage.setItem("log_ID",e.log_ID),localStorage.setItem("name",e.name),localStorage.setItem("surname",e.surname),localStorage.setItem("second_name",e.second_name),localStorage.setItem("department",e.department),localStorage.setItem("date_of_birth",e.date_of_birth),localStorage.setItem("experience",e.experience),localStorage.setItem("marital_status",e.marital_status),localStorage.setItem("address",e.address),localStorage.setItem("number",e.number),localStorage.setItem("email",e.email),localStorage.setItem("child_count",e.child_count),window.location.href="http://localhost:3001/profile.html"):(t.textContent=e.message,t.style.display="block")})).catch((e=>{console.error("Error:",e),t.textContent="Неверный логин и пароль",t.style.display="block"}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=localStorage.getItem("log_ID"),t=localStorage.getItem("name"),n=localStorage.getItem("surname"),o=localStorage.getItem("second_name"),a=localStorage.getItem("department"),c=localStorage.getItem("date_of_birth"),r=localStorage.getItem("experience"),l=localStorage.getItem("marital_status"),s=localStorage.getItem("address"),d=localStorage.getItem("number"),m=localStorage.getItem("email"),i=localStorage.getItem("child_count");e&&t&&n?(document.querySelector(".info__surname-value").textContent=n,document.querySelector(".info__name-value").textContent=t,document.querySelector(".info__secondname-value").textContent=o,document.querySelector(".info__department-value").textContent=a,document.querySelector(".info__dateofbirth-value").textContent=c,document.querySelector(".info__exp-value").textContent=r,document.querySelector(".info__place-value").textContent=s,document.querySelector(".info__status-value").textContent=l,document.querySelector(".info__telephone-value").textContent=d,document.querySelector(".info__email-value").textContent=m,document.querySelector(".info__childcount-value").textContent=i,document.querySelector(".page-header__btn span").textContent=`${t} ${n}`):console.error("No user data found in localStorage")})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("filterForm");e.addEventListener("submit",(function(t){t.preventDefault();const n=e.querySelector("#status").value,o=e.querySelector("#kids").value,a=e.querySelector("#time").value,c=window.location.pathname.split("/"),r=c[c.length-1],l=parseInt(r.replace(".html",""),10);console.log(l),fetch("http://127.0.0.1:8000/submit-filter?"+new URLSearchParams({status_value:n,kids_value:o,time_value:a,category_id:l}).toString()).then((e=>e.json())).then((e=>{console.log("Success:",e),e.success?function(e){const t=document.querySelector(".cards");t.innerHTML="",e.forEach((e=>{const n=document.createElement("article");n.className="card listing__card";const o=document.createElement("a");o.href="#",o.className="card__link";const a=document.createElement("div");a.className="blog-card__container";const c=document.createElement("h1");c.className="card__title",c.textContent=e.title;const r=document.createElement("p");r.className="card__description",r.textContent=e.description,a.appendChild(c),a.appendChild(r);const l=document.createElement("div");l.className="card__liners",o.appendChild(a),o.appendChild(l),n.appendChild(o),t.appendChild(n)}))}(e.benefits):console.error("Error:",e.message)})).catch((e=>{console.error("Error:",e)}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=window.location.pathname.split("/"),t=e[e.length-1],n=parseInt(t.replace(".html",""),10);1!=n&&2!=n&&3!=n&&4!=n&&5!=n||fetch("http://127.0.0.1:8000/get-category-benefits?"+new URLSearchParams({category_id:n}).toString()).then((e=>e.json())).then((e=>{console.log("Success:",e),e.success?function(e){const t=document.querySelector(".cards");t.innerHTML="",e.forEach((e=>{const n=document.createElement("article");n.className="card listing__card";const o=document.createElement("a");o.href="#",o.className="card__link";const a=document.createElement("div");a.className="blog-card__container";const c=document.createElement("h1");c.className="card__title",c.textContent=e.title;const r=document.createElement("p");r.className="card__description",r.textContent=e.description,a.appendChild(c),a.appendChild(r);const l=document.createElement("div");l.className="card__liners",o.appendChild(a),o.appendChild(l),n.appendChild(o),t.appendChild(n)}))}(e.benefits):console.error("Error:",e.message)})).catch((e=>{console.error("Error:",e)}))}))}();