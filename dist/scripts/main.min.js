!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=new URLSearchParams(window.location.search).get("log_ID");e&&fetch(`http://127.0.0.1:8000/get_user_info?log_ID=${e}`).then((e=>e.json())).then((e=>{e.success?(document.querySelector(".info__surname-value").textContent=e.surname,document.querySelector(".info__name-value").textContent=e.name,document.querySelector(".page-header__btn  span").textContent=e.name+" "+e.surname):console.error("Error:",e.message)})).catch((e=>{console.error("Error:",e)}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("loginForm"),t=document.getElementById("errorMessage");e.addEventListener("submit",(function(n){n.preventDefault();const o=new FormData(e),r=o.get("username"),s=o.get("password");fetch("http://127.0.0.1:8000/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:r,password:s})}).then((e=>e.json())).then((e=>{e.success?window.location.href=`http://localhost:3001/profile.html?log_ID=${e.log_ID}`:(t.textContent=e.message,t.style.display="block")})).catch((e=>{console.error("Error:",e),t.textContent="Неверный логин и пароль",t.style.display="block"}))}))}))}();