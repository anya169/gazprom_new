!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("loginForm"),t=document.getElementById("errorMessage");e.addEventListener("submit",(function(o){o.preventDefault();const n=new FormData(e),a=n.get("username"),r=n.get("password");fetch("http://127.0.0.1:8000/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:a,password:r})}).then((e=>e.json())).then((e=>{e.success?(localStorage.setItem("log_ID",e.log_ID),localStorage.setItem("name",e.name),localStorage.setItem("surname",e.surname),localStorage.setItem("second_name",e.second_name),localStorage.setItem("department",e.department),localStorage.setItem("date_of_birth",e.date_of_birth),localStorage.setItem("experience",e.experience),localStorage.setItem("marital_status",e.marital_status),localStorage.setItem("address",e.address),localStorage.setItem("number",e.number),localStorage.setItem("email",e.email),localStorage.setItem("child_count",e.child_count),window.location.href="http://localhost:3001/profile.html"):(t.textContent=e.message,t.style.display="block")})).catch((e=>{console.error("Error:",e),t.textContent="Неверный логин и пароль",t.style.display="block"}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=localStorage.getItem("log_ID"),t=localStorage.getItem("name"),o=localStorage.getItem("surname"),n=localStorage.getItem("second_name"),a=localStorage.getItem("department"),r=localStorage.getItem("date_of_birth"),c=localStorage.getItem("experience"),l=localStorage.getItem("marital_status"),s=localStorage.getItem("address"),m=localStorage.getItem("number"),d=localStorage.getItem("email"),u=localStorage.getItem("child_count");e&&t&&o?(document.querySelector(".info__surname-value").textContent=o,document.querySelector(".info__name-value").textContent=t,document.querySelector(".info__secondname-value").textContent=n,document.querySelector(".info__department-value").textContent=a,document.querySelector(".info__dateofbirth-value").textContent=r,document.querySelector(".info__exp-value").textContent=c,document.querySelector(".info__place-value").textContent=s,document.querySelector(".info__status-value").textContent=l,document.querySelector(".info__telephone-value").textContent=m,document.querySelector(".info__email-value").textContent=d,document.querySelector(".info__childcount-value").textContent=u,document.querySelector(".page-header__btn span").textContent=`${t} ${o}`):console.error("No user data found in localStorage")})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("filterForm");e.addEventListener("submit",(function(t){t.preventDefault();const o=e.querySelector("#status").value,n=e.querySelector("#kids").value,a=e.querySelector("#time").value;fetch("http://127.0.0.1:8000/submit-filter?"+new URLSearchParams({status_value:o,kids_value:n,time_value:a}).toString()).then((e=>e.json())).then((e=>{console.log("Success:",e),e.success?function(e){const t=document.querySelector(".cards");t.innerHTML="",e.forEach((e=>{const o=document.createElement("article");o.className="card";const n=document.createElement("a");n.href="#",n.className="card__link";const a=document.createElement("div");a.className="blog-card__container";const r=document.createElement("h1");r.className="card__title",r.textContent=e.title;const c=document.createElement("p");c.className="card__description",c.textContent=e.description,a.appendChild(r),a.appendChild(c);const l=document.createElement("div");l.className="card__liners",n.appendChild(a),n.appendChild(l),o.appendChild(n),t.appendChild(o)}))}(e.benefits):console.error("Error:",e.message)})).catch((e=>{console.error("Error:",e)}))}))}))}();